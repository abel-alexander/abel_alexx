import pandas as pd

# Function to save questions, responses, inference time, and token length to CSV
def save_responses_to_csv(questions, col_llama, col_llama2, col_mistral, 
                          inference_time_llama, inference_time_llama2, inference_time_mistral,
                          token_length_llama, token_length_llama2, token_length_mistral, 
                          file_name='responses_with_details.csv'):
    # Create a DataFrame
    response_data = {
        'Question': questions,
        'Llama_v1_Response': col_llama,
        'Llama_v2_Response': col_llama2,
        'Mistral_Response': col_mistral,
        'Inference_Time_Llama_v1 (s)': inference_time_llama,
        'Inference_Time_Llama_v2 (s)': inference_time_llama2,
        'Inference_Time_Mistral (s)': inference_time_mistral,
        'Token_Length_Llama_v1': token_length_llama,
        'Token_Length_Llama_v2': token_length_llama2,
        'Token_Length_Mistral': token_length_mistral
    }
    response_df = pd.DataFrame(response_data)
    
    # Save to CSV
    response_df.to_csv(file_name, index=False)
    print(f"Responses with details saved to {file_name}")

# Assuming these variables exist in your script:
# - questions: List of questions
# - col_llama, col_llama2, col_mistral: Responses from the models
# - inference_time_llama, inference_time_llama2, inference_time_mistral: Inference times in seconds
# - token_length_llama, token_length_llama2, token_length_mistral: Token lengths of responses

# Append this after the existing code logic
save_responses_to_csv(
    questions, 
    col_llama, col_llama2, col_mistral, 
    inference_time_llama, inference_time_llama2, inference_time_mistral,
    token_length_llama, token_length_llama2, token_length_mistral
)
